<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <style>
    /* body {
      margin: 30px;
      font-family: sans-serif;
    } */

    /* #fontSizeWrapper {
      font-size: 16px;
    }

    #fontSize {
      width: 100px;
      font-size: 1em;
    } */

    /* ————————————————————–
  Tree core styles
*/
    .tree {
      margin: 1em;
    }

    .tree input {
      position: absolute;
      clip: rect(0, 0, 0, 0);
    }

    .tree input~ul {
      display: none;
    }

    .tree input:checked~ul {
      display: block;
    }

    /* ————————————————————–
  Tree rows
*/
    .tree li {
      line-height: 1.2;
      position: relative;
      padding: 0 0 1em 1em;
    }

    .tree ul li {
      padding: 1em 0 0 1em;
    }

    .tree>li:last-child {
      padding-bottom: 0;
    }

    /* ————————————————————–
  Tree labels
*/
    .tree_label {
      position: relative;
      display: inline-block;
      background: #fff;
    }

    label.tree_label {
      cursor: pointer;
    }

    label.tree_label:hover {
      color: #666;
    }

    /* ————————————————————–
  Tree expanded icon
*/
    label.tree_label:before {
      background: #000;
      color: #fff;
      position: relative;
      z-index: 1;
      float: left;
      margin: 0 1em 0 -2em;
      width: 1em;
      height: 1em;
      border-radius: 1em;
      content: '+';
      text-align: center;
      line-height: .9em;
    }

    :checked~label.tree_label:before {
      content: '–';
    }

    /* ————————————————————–
  Tree branches
*/
    .tree li:before {
      position: absolute;
      top: 0;
      bottom: 0;
      left: -.5em;
      display: block;
      width: 0;
      border-left: 1px solid #777;
      content: "";
    }

    .tree_label:after {
      position: absolute;
      top: 0;
      left: -1.5em;
      display: block;
      height: 0.5em;
      width: 1em;
      border-bottom: 1px solid #777;
      border-left: 1px solid #777;
      border-radius: 0 0 0 .3em;
      content: '';
    }

    label.tree_label:after {
      border-bottom: 0;
    }

    :checked~label.tree_label:after {
      border-radius: 0 .3em 0 0;
      border-top: 1px solid #777;
      border-right: 1px solid #777;
      border-bottom: 0;
      border-left: 0;
      bottom: 0;
      top: 0.5em;
      height: auto;
    }

    .tree li:last-child:before {
      height: 1em;
      bottom: auto;
    }

    .tree>li:last-child:before {
      display: none;
    }

    .tree_custom {
      display: block;
      background: #eee;
      padding: 1em;
      border-radius: 0.3em;
    }
  </style>
</head>

<body class="d-flex flex-column h-100">
  <nav class="navbar shadow">
    <div class="container-fluid ">
      <a class="navbar-brand mx-4" href="./index.html">
        <img src="./images/logo.png" alt="Logo" width="18" height="24" class="d-inline-block ">
        <strong> Hainan Plants </strong>
        <a href="./tree.html">tree</a>
      </a>
    </div>
  </nav>

  <ul class="tree">
    <li>
      <input type="checkbox" checked="checked" id="c1" />
      <label class="tree_label" for="c1">Level 0</label>
      <ul>
        <li>
          <input type="checkbox" checked="checked" id="c2" />
          <label for="c2" class="tree_label">Level 1</label>
          <ul>
            <li><span class="tree_label">Level 2</span></li>
            <li><span class="tree_label">Level 2</span></li>
          </ul>
        </li>
        <li>
          <input type="checkbox" id="c3" />
          <label for="c3" class="tree_label">Looong level 1 <br />label text <br />with line-breaks</label>
          <ul>
            <li><span class="tree_label">Level 2</span></li>
            <li>
              <input type="checkbox" id="c4" />
              <label for="c4" class="tree_label"><span class="tree_custom">Specified tree item view</span></label>
              <ul>
                <li><span class="tree_label">Level 3</span></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>


    <li>
      <input type="checkbox" id="c5" />
      <label class="tree_label" for="c5">Level 0</label>
      <ul>
        <li>
          <input type="checkbox" id="c6" />
          <label for="c6" class="tree_label">Level 1</label>
          <ul>
            <li><span class="tree_label">Level 2</span></li>
          </ul>
        </li>
        <li>
          <input type="checkbox" id="c7" />
          <label for="c7" class="tree_label">Level 1</label>
          <ul>
            <li><span class="tree_label">Level 2</span></li>
            <li>
              <input type="checkbox" id="c8" />
              <label for="c8" class="tree_label">Level 2</label>
              <ul>
                <li><span class="tree_label">Level 3</span></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</body>

</html>

<script>
  let data = {
    Division: [{
      name: 'Streptophyta',
      Subdivision: [{
        name: 'Chlorokybophytina', Class: [{ name: 'Mesostigmatophyceae', Order: [{ name: 'Mesostigmatales' }] }, { name: 'Chlorokybophyceae', Order: [{ name: 'Chlorokybales' }] }]
      },
      {
        name: 'Klebsormidiophyinta',
        Class: [{
          name: 'Klebsormidiophyceae',
          Order: [{ name: 'Klebsormidiales' }]
        }]
      },
      {
        name: 'Charophytina',
        Class: [{
          name: 'Charophyceae',
          Order: [{ name: '†Sycidiales' },
          { name: '†Chovanellales' },
          { name: '†Moellerinales' },
          { name: 'Charales (Stoenworts & musk grasses)' }]
        }]
      },

      ]
    }]

  }

  // let result = data.division[0]
  // console.log(result);
  // console.log(data.division[0].subdivision.length);
  // console.log(data.division[0].subdivision[0].class);

  // for (let i = 0; i < data.division[0].subdivision[0].class.length; i++) {
  //   const element = data.division[0].subdivision[0].class[i];
  //   console.log('class', i, element);
  // }



  let allCards = [{ title: 'Streptophyta', level: 'Division', parent_name: 'root', has_children: true },
  { title: 'Chlorokybophytina', level: 'Subdivision', parent_name: 'Streptophyta', has_children: true },
  { title: 'Mesostigmatophyceae', level: 'Class', parent_name: 'Chlorokybophytina', has_children: true },
  { title: 'Mesostigmatales', level: 'Order', parent_name: 'Mesostigmatophyceae', has_children: false },
  { title: 'Chlorokybophyceae', level: 'Class', parent_name: 'Chlorokybophytina', has_children: true },
  { title: 'Chlorokybales', level: 'Order', parent_name: 'Chlorokybophyceae', has_children: false },
  { title: 'Klebsormidiophyinta', level: 'Subdivision', parent_name: 'Streptophyta', has_children: true },
  { title: 'Klebsormidiophyceae', level: 'Class', parent_name: 'Klebsormidiophyinta', has_children: true },
  { title: 'Klebsormidiales', level: 'Order', parent_name: 'Klebsormidiophyceae', has_children: false },
  { title: 'Charophytina', level: 'Subdivision', parent_name: 'Streptophyta', has_children: true },
  { title: 'Charophyceae', level: 'Class', parent_name: 'Charophytina', has_children: true },
  { title: '†Sycidiales', level: 'Order', parent_name: 'Charophyceae', has_children: false },
  { title: '†Chovanellales', level: 'Order', parent_name: 'Charophyceae', has_children: false },
  { title: '†Moellerinales', level: 'Order', parent_name: 'Charophyceae', has_children: false },
  { title: 'Charales (Stoenworts & musk grasses)', level: 'Order', parent_name: 'Charophyceae', has_children: false },
  { title: 'Coleochaetophytina', level: 'Subdivision', parent_name: 'Streptophyta', has_children: true },
  { title: 'Coleochaetophyceae', level: 'Class', parent_name: 'Coleochaetophytina', has_children: true },
  { title: 'Coleochaetales', level: 'Order', parent_name: 'Coleochaetophyceae', has_children: false },
  { title: 'Zygnematophytina', level: 'Subdivision', parent_name: 'Streptophyta', has_children: true },
  { title: 'Zygnematophyceae', level: 'Class', parent_name: 'Zygnematophytina', has_children: true },
  { title: 'Spirogloeales', level: 'Order', parent_name: 'Zygnematophyceae', has_children: false },
  { title: 'Zygnematales', level: 'Order', parent_name: 'Zygnematophyceae', has_children: false },
  { title: 'Mesotaeniales', level: 'Order', parent_name: 'Zygnematophyceae', has_children: false },
  { title: 'Desmidiales', level: 'Order', parent_name: 'Zygnematophyceae', has_children: false },
  { title: 'Anthocerotophytina[7]', level: 'Subdivision', parent_name: 'Streptophyta', has_children: true },
  { title: 'Leiosporocerotopsida', level: 'Class', parent_name: 'Anthocerotophytina[7]', has_children: true },
  { title: 'Leiosporocerotales', level: 'Order', parent_name: 'Leiosporocerotopsida', has_children: false },
  { title: 'Anthocerotopsida', level: 'Class', parent_name: 'Anthocerotophytina[7]', has_children: true },
  { title: 'Anthocerotales', level: 'Order', parent_name: 'Anthocerotopsida', has_children: false },
  { title: 'Notothyladales', level: 'Order', parent_name: 'Anthocerotopsida', has_children: false },
  { title: 'Phymatocerotales', level: 'Order', parent_name: 'Anthocerotopsida', has_children: false },
  { title: 'Dendrocerotales', level: 'Order', parent_name: 'Anthocerotopsida', has_children: false },
  { title: 'Marchantiophytina[7]', level: 'Subdivision', parent_name: 'Streptophyta', has_children: true },
  { title: 'Haplomitriopsida', level: 'Class', parent_name: 'Marchantiophytina[7]', has_children: true },
  { title: 'Treubiales', level: 'Order', parent_name: 'Haplomitriopsida', has_children: false },
  { title: 'Calobryales', level: 'Order', parent_name: 'Haplomitriopsida', has_children: false },
  { title: 'Marchantiopsida', level: 'Class', parent_name: 'Marchantiophytina[7]', has_children: true },
  { title: 'Blasiidae', level: 'Subclass', parent_name: 'Marchantiopsida', has_children: true },
  { title: 'Blasiales', level: 'Order', parent_name: 'Blasiidae', has_children: false },
  { title: 'Marchantiidae (Complex thalloid liverworts)', level: 'Subclass', parent_name: 'Haplomitriopsida', has_children: true },
  { title: 'Neohodgsoniales', level: 'Order', parent_name: 'Marchantiidae (Complex thalloid liverworts)', has_children: false },
  { title: 'Sphaerocarpales', level: 'Order', parent_name: 'Marchantiidae (Complex thalloid liverworts)', has_children: false },
  { title: 'Lunulariales (crescent-cup liverwort)', level: 'Order', parent_name: 'Marchantiidae (Complex thalloid liverworts)', has_children: false },
  { title: 'Marchantiales', level: 'Order', parent_name: 'Marchantiidae (Complex thalloid liverworts)', has_children: false },
  { title: 'Jungermanniopsida', level: 'Class', parent_name: 'Marchantiophytina[7]', has_children: true },
  { title: 'Pelliidae', level: 'Subclass', parent_name: 'Jungermanniopsida', has_children: true },
  { title: 'Pelliales', level: 'Order', parent_name: 'Pelliidae', has_children: false },
  { title: 'Pallaviciniales', level: 'Order', parent_name: 'Pelliidae', has_children: false },
  { title: 'Fossombroniales', level: 'Order', parent_name: 'Pelliidae', has_children: false },
  { title: 'Metzgeriidae', level: 'Subclass', parent_name: 'Jungermanniopsida', has_children: true },
  { title: 'Pleuroziales', level: 'Order', parent_name: 'Metzgeriidae', has_children: false },
  { title: 'Metzgeriales', level: 'Order', parent_name: 'Metzgeriidae', has_children: false },
  { title: 'Jungermanniidae (leafy liverworts)', level: 'Subclass', parent_name: 'Jungermanniopsida', has_children: true },
  { title: 'Porellales', level: 'Order', parent_name: 'Jungermanniidae (leafy liverworts)', has_children: false },
  { title: 'Ptilidiales', level: 'Order', parent_name: 'Jungermanniidae (leafy liverworts)', has_children: false },
  { title: 'Jungermanniales', level: 'Order', parent_name: 'Jungermanniidae (leafy liverworts)', has_children: false },
  { title: 'Bryophytina[8]', level: 'Subdivision', parent_name: 'Streptophyta', has_children: true },
  { title: 'Takakiopsida', level: 'Class', parent_name: 'Bryophytina[8]', has_children: true },
  { title: 'Takakiales', level: 'Order', parent_name: 'Takakiopsida', has_children: false },
  { title: 'Sphagnopsida', level: 'Class', parent_name: 'Bryophytina[8]', has_children: true },
  { title: '†Protosphagnales', level: 'Order', parent_name: 'Sphagnopsida', has_children: false },
  { title: 'Ambuchananiales', level: 'Order', parent_name: 'Sphagnopsida', has_children: false },
  { title: 'Sphagnales (Peat/bog mosses)', level: 'Order', parent_name: 'Sphagnopsida', has_children: false },
  { title: 'Andreaeobryopsida', level: 'Class', parent_name: 'Bryophytina[8]', has_children: true },
  { title: 'Andreaeobryales', level: 'Order', parent_name: 'Andreaeobryopsida', has_children: false },
  { title: 'Andreaeopsida', level: 'Class', parent_name: 'Bryophytina[8]', has_children: true },
  { title: 'Andreaeales (Granite/lantern mosses)', level: 'Order', parent_name: 'Andreaeopsida', has_children: false },
  { title: 'Oedipodiopsida', level: 'Class', parent_name: 'Bryophytina[8]', has_children: true },
  { title: 'Oedipodiales', level: 'Order', parent_name: 'Oedipodiopsida', has_children: false },
  { title: 'Tetraphidopsida', level: 'Class', parent_name: 'Bryophytina[8]', has_children: true },
  { title: 'Tetraphidales', level: 'Order', parent_name: 'Tetraphidopsida', has_children: false },
  { title: 'Polytrichopsida', level: 'Class', parent_name: 'Bryophytina[8]', has_children: true },
  { title: 'Polytrichales (Hair-cap mosses)', level: 'Order', parent_name: 'Polytrichopsida', has_children: false },
  { title: 'Bryopsida', level: 'Class', parent_name: 'Bryophytina[8]', has_children: true },
  { title: 'Buxbaumiidae', level: 'Subclass', parent_name: 'Bryopsida', has_children: true },
  { title: 'Buxbaumiales', level: 'Order', parent_name: 'Buxbaumiidae', has_children: false },
  { title: 'Diphysciidae', level: 'Subclass', parent_name: 'Bryopsida', has_children: true },
  { title: 'Diphysciales', level: 'Order', parent_name: 'Diphysciidae', has_children: false },
  { title: 'Gigaspermidae', level: 'Subclass', parent_name: 'Bryopsida', has_children: true },
  { title: 'Gigaspermales', level: 'Order', parent_name: 'Gigaspermidae', has_children: false },
  { title: 'Funariidae', level: 'Subclass', parent_name: 'Bryopsida', has_children: true },
  { title: 'Disceliales', level: 'Order', parent_name: 'Funariidae', has_children: false },
  { title: 'Encalyptales', level: 'Order', parent_name: 'Funariidae', has_children: false },
  { title: 'Funariales', level: 'Order', parent_name: 'Funariidae', has_children: false },
  { title: 'Timmiidae', level: 'Subclass', parent_name: 'Bryopsida', has_children: true },
  { title: 'Timmiales', level: 'Order', parent_name: 'Timmiidae', has_children: false },
  { title: 'Dicranidae (Haplolepideous mosses)', level: 'Subclass', parent_name: 'Bryopsida', has_children: true },
  { title: 'Archidiales', level: 'Order', parent_name: 'Dicranidae (Haplolepideous mosses)', has_children: false },
  { title: 'Pseudoditrichales', level: 'Order', parent_name: 'Dicranidae (Haplolepideous mosses)', has_children: false },
  { title: 'Catoscopiales', level: 'Order', parent_name: 'Dicranidae (Haplolepideous mosses)', has_children: false },
  { title: 'Scouleriales', level: 'Order', parent_name: 'Dicranidae (Haplolepideous mosses)', has_children: false },
  { title: 'Bryoxiphiales', level: 'Order', parent_name: 'Dicranidae (Haplolepideous mosses)', has_children: false },
  { title: 'Grimmiales', level: 'Order', parent_name: 'Dicranidae (Haplolepideous mosses)', has_children: false },
  { title: 'Pottiales', level: 'Order', parent_name: 'Dicranidae (Haplolepideous mosses)', has_children: false },
  { title: 'Dicranales', level: 'Order', parent_name: 'Dicranidae (Haplolepideous mosses)', has_children: false },
  { title: 'Bryidae (Diplolepideous-alternate mosses)', level: 'Subclass', parent_name: 'Bryopsida', has_children: true },
  { title: 'Bryanae', level: 'Superorder', parent_name: 'Bryidae (Diplolepideous-alternate mosses)', has_children: true },
  { title: 'Splachnales', level: 'Order', parent_name: 'Bryanae', has_children: false },
  { title: 'Hedwigiales', level: 'Order', parent_name: 'Bryanae', has_children: false },
  { title: 'Bartramiales', level: 'Order', parent_name: 'Bryanae', has_children: false },
  { title: 'Bryales', level: 'Order', parent_name: 'Bryanae', has_children: false },
  { title: 'Rhizogoniales', level: 'Order', parent_name: 'Bryanae', has_children: false },
  { title: 'Orthotrichales', level: 'Order', parent_name: 'Bryanae', has_children: false },
  { title: 'Orthodontiales', level: 'Order', parent_name: 'Bryanae', has_children: false },
  { title: 'Aulacomniales', level: 'Order', parent_name: 'Bryanae', has_children: false },
  { title: 'Hypnanae', level: 'Superorder', parent_name: 'Bryidae (Diplolepideous-alternate mosses)', has_children: true },
  { title: 'Hypnodendrales', level: 'Order', parent_name: 'Hypnanae', has_children: false },
  { title: 'Ptychomniales', level: 'Order', parent_name: 'Hypnanae', has_children: false },
  { title: 'Hypopterygiales', level: 'Order', parent_name: 'Hypnanae', has_children: false },
  { title: 'Hookeriales', level: 'Order', parent_name: 'Hypnanae', has_children: false },
  { title: 'Hypnales', level: 'Order', parent_name: 'Hypnanae', has_children: false },
  { title: '†Horneophytina', level: 'Clade', parent_name: 'Bryophytina[8]', has_children: true },
  { title: '†Horneophytopsida', level: 'Class', parent_name: '†Horneophytina', has_children: true },
  { title: '†Horneophytales', level: 'Order', parent_name: '†Horneophytopsida', has_children: false },
  { title: 'Tracheophytina[9]', level: 'Subdivision', parent_name: 'Streptophyta', has_children: true },
  { title: '†Cooksoniopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Cooksoniales', level: 'Order', parent_name: '†Cooksoniopsida', has_children: false },
  { title: '†Rhyniopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '?†Yarraviales', level: 'Order', parent_name: '†Rhyniopsida', has_children: false },
  { title: '?†Taeniocradales', level: 'Order', parent_name: '†Rhyniopsida', has_children: false },
  { title: '†Rhyniales', level: 'Order', parent_name: '†Rhyniopsida', has_children: false },
  { title: '†Zosterophyllophyta', level: 'Clade', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Barinophytopsida[10]', level: 'Class', parent_name: '†Zosterophyllophyta', has_children: true },
  { title: '†Barinophytales', level: 'Order', parent_name: '†Barinophytopsida[10]', has_children: false },
  { title: '†Zosterophyllopsida', level: 'Class', parent_name: '†Zosterophyllophyta', has_children: true },
  { title: '†Sawdoniales', level: 'Order', parent_name: '†Zosterophyllopsida', has_children: false },
  { title: '†Zosterophyllales', level: 'Order', parent_name: '†Zosterophyllopsida', has_children: false },
  { title: 'Lycopodiopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Drepanophycales', level: 'Order', parent_name: 'Lycopodiopsida', has_children: false },
  { title: '†Asteroxylidae', level: 'Subclass', parent_name: 'Lycopodiopsida', has_children: true },
  { title: '?†Thursophytales', level: 'Order', parent_name: '†Asteroxylidae', has_children: false },
  { title: '†Asteroxylales', level: 'Order', parent_name: '†Asteroxylidae', has_children: false },
  { title: 'Lycopodiidae', level: 'Subclass', parent_name: 'Lycopodiopsida', has_children: true },
  { title: 'Lycopodiales (Clubmosses, groundpines, groundcedars)', level: 'Order', parent_name: 'Lycopodiidae', has_children: false },
  { title: '†Prolepidodendridae', level: 'Subclass', parent_name: 'Lycopodiopsida', has_children: true },
  { title: '†Protolepidodendrales', level: 'Order', parent_name: '†Prolepidodendridae', has_children: false },
  { title: 'Selaginellidae (Spikemosses; rose of Jericho; resurrection plant; Engels moss)', level: 'Subclass', parent_name: 'Lycopodiopsida', has_children: true },
  { title: 'Selaginellales', level: 'Order', parent_name: 'Selaginellidae (Spikemosses; rose of Jericho; resurrection plant; Engels moss)', has_children: false },
  { title: '†Lepidodendrales', level: 'Order', parent_name: 'Selaginellidae (Spikemosses; rose of Jericho; resurrection plant; Engels moss)', has_children: false },
  { title: '†Pleuromeiales', level: 'Order', parent_name: 'Selaginellidae (Spikemosses; rose of Jericho; resurrection plant; Engels moss)', has_children: false },
  { title: 'Isoetales (Quillworts)', level: 'Order', parent_name: 'Selaginellidae (Spikemosses; rose of Jericho; resurrection plant; Engels moss)', has_children: false },
  { title: '†Eophyllophytopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Eophyllophytales', level: 'Order', parent_name: '†Eophyllophytopsida', has_children: false },
  { title: '†Trimerophytopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Trimerophytales', level: 'Order', parent_name: '†Trimerophytopsida', has_children: false },
  { title: 'Pteridophyta', level: 'Clade', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Ibykales', level: 'Order', parent_name: 'Pteridophyta', has_children: false },
  { title: '†Cladoxylopsida', level: 'Class', parent_name: 'Pteridophyta', has_children: true },
  { title: '†Hyeniales', level: 'Order', parent_name: '†Cladoxylopsida', has_children: false },
  { title: '†Iridopteridales', level: 'Order', parent_name: '†Cladoxylopsida', has_children: false },
  { title: '†Steloxylales', level: 'Order', parent_name: '†Cladoxylopsida', has_children: false },
  { title: '†Pseudosporochnales', level: 'Order', parent_name: '†Cladoxylopsida', has_children: false },
  { title: '†Cladoxylales', level: 'Order', parent_name: '†Cladoxylopsida', has_children: false },
  { title: 'Polypodiopsida (Ferns)', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Stauropteridales', level: 'Order', parent_name: 'Polypodiopsida (Ferns)', has_children: false },
  { title: '†Zygopterididae', level: 'Subclass', parent_name: '†Stauropteridales', has_children: true },
  { title: '†Rhacophytales', level: 'Order', parent_name: '†Zygopterididae', has_children: false },
  { title: '†Zygopteridales', level: 'Order', parent_name: '†Zygopterididae', has_children: false },
  { title: 'Equisetidae', level: 'Subclass', parent_name: 'Polypodiopsida (Ferns)', has_children: true },
  { title: '†Pseudoborniales', level: 'Order', parent_name: 'Equisetidae', has_children: false },
  { title: '†Sphenophyllales', level: 'Order', parent_name: 'Equisetidae', has_children: false },
  { title: 'Equisetales (Horsetails; scouring-rushes)', level: 'Order', parent_name: 'Equisetidae', has_children: false },
  { title: 'Ophioglossidae', level: 'Subclass', parent_name: 'Polypodiopsida (Ferns)', has_children: true },
  { title: 'Psilotales (Whisk ferns)', level: 'Order', parent_name: 'Ophioglossidae', has_children: false },
  {
    title: 'Ophioglossales(Adders tongues, moonworts)', level: 'Order', parent_name: 'Ophioglossidae', has_children: false
  },
  { title: 'Marattiopsida', level: 'Subclass', parent_name: 'Polypodiopsida (Ferns)', has_children: true },
  { title: 'Marattiales', level: 'Order', parent_name: 'Marattiopsida', has_children: false },
  { title: 'Polypodiidae', level: 'Subclass', parent_name: 'Polypodiopsida (Ferns)', has_children: true },
  { title: '†Urnatopteridales', level: 'Order', parent_name: 'Polypodiidae', has_children: false },
  { title: '†Senftenbergiales', level: 'Order', parent_name: 'Polypodiidae', has_children: false },
  { title: '†Botryopteridiales', level: 'Order', parent_name: 'Polypodiidae', has_children: false },
  { title: '†Anachoropteridales', level: 'Order', parent_name: 'Polypodiidae', has_children: false },
  { title: 'Osmundales (Royal ferns)', level: 'Order', parent_name: 'Polypodiidae', has_children: false },
  { title: 'Hymenophyllales (Filmy ferns)', level: 'Order', parent_name: 'Polypodiidae', has_children: false },
  { title: 'Gleicheniales', level: 'Order', parent_name: 'Polypodiidae', has_children: false },
  { title: 'Schizaeales', level: 'Order', parent_name: 'Polypodiidae', has_children: false },
  { title: 'Salviniales', level: 'Order', parent_name: 'Polypodiidae', has_children: false },
  { title: 'Cyatheales', level: 'Order', parent_name: 'Polypodiidae', has_children: false },
  { title: 'Polypodiales (Cathetogyrates)', level: 'Order', parent_name: 'Polypodiidae', has_children: false },
  { title: '†Noeggerathiopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Discinitiales', level: 'Order', parent_name: '†Noeggerathiopsida', has_children: false },
  { title: '†Noeggerathiales', level: 'Order', parent_name: '†Noeggerathiopsida', has_children: false },
  { title: '†Tingiales', level: 'Order', parent_name: '†Noeggerathiopsida', has_children: false },
  { title: '†Aneurophytopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Scougonophytales', level: 'Order', parent_name: '†Aneurophytopsida', has_children: false },
  { title: '†Aneurophytales', level: 'Order', parent_name: '†Aneurophytopsida', has_children: false },
  { title: '†Archaeopteridopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Cecropsidales', level: 'Order', parent_name: '†Archaeopteridopsida', has_children: false },
  { title: '†Archaeopteridales', level: 'Order', parent_name: '†Archaeopteridopsida', has_children: false },



  { title: 'Spermatophyta', level: 'Clade', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Calamopityales', level: 'Order', parent_name: 'Spermatophyta', has_children: false },
  { title: '†Callistophytales', level: 'Order', parent_name: 'Spermatophyta', has_children: false },
  { title: '†Erdtmanithecales', level: 'Order', parent_name: 'Spermatophyta', has_children: false },
  { title: '†Hlatimbiales', level: 'Order', parent_name: 'Spermatophyta', has_children: false },
  { title: '†Umkomasiales', level: 'Order', parent_name: 'Spermatophyta', has_children: false },
  { title: '†Arberiopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Aberiales', level: 'Order', parent_name: '†Arberiopsida', has_children: false },
  { title: '†Dicranophyllales', level: 'Order', parent_name: '†Arberiopsida', has_children: false },
  { title: '†Moresnetiopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Moresnetiales', level: 'Order', parent_name: '†Moresnetiopsida', has_children: false },
  { title: '†Pullarithecales', level: 'Order', parent_name: '†Moresnetiopsida', has_children: false },
  { title: '†Tetrastichiales', level: 'Order', parent_name: '†Moresnetiopsida', has_children: false },
  { title: '†Lyginopteridopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Hexapterospermales', level: 'Order', parent_name: '†Lyginopteridopsida', has_children: false },
  { title: '†Lyginopteridales', level: 'Order', parent_name: '†Lyginopteridopsida', has_children: false },
  { title: '†Pachytestopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Codonospermales', level: 'Order', parent_name: '†Pachytestopsida', has_children: false },
  { title: '†Pachytestales', level: 'Order', parent_name: '†Pachytestopsida', has_children: false },
  { title: '†Peltaspermopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Peltaspermales', level: 'Order', parent_name: '†Peltaspermopsida', has_children: false },
  { title: '†Sporophyllitales', level: 'Order', parent_name: '†Peltaspermopsida', has_children: false },
  { title: '†Trichopityales', level: 'Order', parent_name: '†Peltaspermopsida', has_children: false },
  { title: '†Phasmatocycadopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Gigantopteridales', level: 'Order', parent_name: '†Phasmatocycadopsida', has_children: false },
  { title: '†Phasmatocycadales', level: 'Order', parent_name: '†Phasmatocycadopsida', has_children: false },
  { title: '†Pentoxylopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Pentoxylales', level: 'Order', parent_name: '†Pentoxylopsida', has_children: false },
  { title: '†Dictyopteridiopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Dictyopteridiales', level: 'Order', parent_name: '†Dictyopteridiopsida', has_children: false },
  { title: '†Lidgettoniales', level: 'Order', parent_name: '†Dictyopteridiopsida', has_children: false },
  { title: '†Rigbyales', level: 'Order', parent_name: '†Dictyopteridiopsida', has_children: false },
  { title: '†Cycadeoideopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Fredlindiales', level: 'Order', parent_name: '†Cycadeoideopsida', has_children: false },
  { title: '†Cycadeoideales', level: 'Order', parent_name: '†Cycadeoideopsida', has_children: false },
  { title: '†Caytoniopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Caytoniales', level: 'Order', parent_name: '†Caytoniopsida', has_children: false },
  { title: '†Axelrodiopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Axelrodiales', level: 'Order', parent_name: '†Axelrodiopsida', has_children: false },
  { title: 'Pinopsida', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: 'Pityidae', level: '†Subclass', parent_name: 'Pinopsida', has_children: true },
  { title: 'Pityales', level: '†Order', parent_name: 'Pinopsida', has_children: true },
  { title: 'Cycadidae', level: 'Subclass', parent_name: 'Pinopsida', has_children: true },
  { title: '?†Noeggerathiopsidales', level: 'Order', parent_name: 'Cycadidae', has_children: false },
  { title: '†Podozamitales', level: 'Order', parent_name: 'Cycadidae', has_children: false },
  { title: 'Cycadales (Cycads)', level: 'Order', parent_name: 'Cycadidae', has_children: false },
  { title: 'Ginkgoidae', level: 'Subclass', parent_name: 'Pinopsida', has_children: true },
  { title: '†Hamshawviales', level: 'Order', parent_name: 'Ginkgoidae', has_children: false },
  { title: '†Vladimariales', level: 'Order', parent_name: 'Ginkgoidae', has_children: false },
  { title: '†Matatiellales', level: 'Order', parent_name: 'Ginkgoidae', has_children: false },
  { title: '†Petriellales', level: 'Order', parent_name: 'Ginkgoidae', has_children: false },
  { title: '†Czekanowskiales', level: 'Order', parent_name: 'Ginkgoidae', has_children: false },
  { title: 'Ginkgoales', level: 'Order', parent_name: 'Ginkgoidae', has_children: false },
  { title: 'Pinidae', level: 'Subclass', parent_name: 'Pinopsida', has_children: true },
  { title: '†Cordaitales', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: '†Dordrechtitales', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: '†Vojnovskyales', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: '†Buriadiales', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: '†Ferugliocladales', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: '†Ullmanniales', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: '†Walchiales', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: '†Voltziales', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: '†Bernettiales', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: '†Eoanthales', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: '†Fraxinopsiales', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: 'Gnetales (incl. Ephedrales & Welwitschiales)', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: 'Pinales (Pines and allies)', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: 'Araucariales', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: 'Cupressales (Cypresses and allies)', level: 'Order', parent_name: 'Pinidae', has_children: false },
  { title: 'Magnoliopsida[11]', level: 'Class', parent_name: 'Tracheophytina[9]', has_children: true },
  { title: '†Archaemagnoliidae', level: 'Subclass', parent_name: 'Magnoliopsida[11]', has_children: true },
  { title: '†Archaefructales', level: 'Order', parent_name: '†Archaemagnoliidae', has_children: false },
  { title: 'Amborellanae', level: 'Superorder', parent_name: 'Magnoliopsida[11]', has_children: true },
  { title: 'Amborellales', level: 'Order', parent_name: 'Amborellanae', has_children: false },
  { title: 'Nymphaeidae', level: 'Subclass', parent_name: 'Magnoliopsida[11]', has_children: true },
  { title: 'Nymphaeales', level: 'Order', parent_name: 'Nymphaeidae', has_children: false },
  { title: 'Illiciidae', level: 'Subclass', parent_name: 'Magnoliopsida[11]', has_children: true },
  { title: 'Austrobaileyales', level: 'Order', parent_name: 'Illiciidae', has_children: false },
  { title: 'Chloranthidae', level: 'Subclass', parent_name: 'Magnoliopsida[11]', has_children: true },
  { title: 'Chloranthales', level: 'Order', parent_name: 'Chloranthidae', has_children: false },
  { title: 'Magnoliidae', level: 'Subclass', parent_name: 'Magnoliopsida[11]', has_children: true },
  { title: 'Canellales', level: 'Order', parent_name: 'Magnoliidae', has_children: false },
  { title: 'Piperales', level: 'Order', parent_name: 'Magnoliidae', has_children: false },
  { title: 'Laurales', level: 'Order', parent_name: 'Magnoliidae', has_children: false },
  { title: 'Magnoliales', level: 'Order', parent_name: 'Magnoliidae', has_children: false },
  { title: 'Liliidae', level: 'Subclass', parent_name: 'Magnoliopsida[11]', has_children: true },
  { title: 'Acoranae', level: 'Superorder', parent_name: 'Liliidae', has_children: true },
  { title: 'Acorales', level: 'Order', parent_name: 'Acoranae', has_children: false },
  { title: 'Alismatanae', level: 'Superorder', parent_name: 'Liliidae', has_children: true },
  { title: 'Alismatales', level: 'Order', parent_name: 'Alismatanae', has_children: false },
  { title: 'Petrosavianae', level: 'Superorder', parent_name: 'Liliidae', has_children: true },
  { title: 'Petrosaviales', level: 'Order', parent_name: 'Petrosavianae', has_children: false },
  { title: 'Pandananae', level: 'Superorder', parent_name: 'Liliidae', has_children: true },
  { title: 'Dioscoreales', level: 'Order', parent_name: 'Pandananae', has_children: false },
  { title: 'Pandanales', level: 'Order', parent_name: 'Pandananae', has_children: false },
  { title: 'Lilianae', level: 'Superorder', parent_name: 'Liliidae', has_children: true },
  { title: 'Liliales', level: 'Order', parent_name: 'Lilianae', has_children: false },
  { title: 'Orchidanae', level: 'Superorder', parent_name: 'Liliidae', has_children: true },
  { title: 'Asparagales', level: 'Order', parent_name: 'Orchidanae', has_children: false },
  { title: 'Commelinids', level: 'Superorder', parent_name: 'Liliidae', has_children: true },
  { title: 'Arecales', level: 'Order', parent_name: 'Commelinids', has_children: false },
  { title: 'Commelinales', level: 'Order', parent_name: 'Commelinids', has_children: false },
  { title: 'Zingiberales', level: 'Order', parent_name: 'Commelinids', has_children: false },
  { title: 'Poales', level: 'Order', parent_name: 'Commelinids', has_children: false },
  { title: 'Ceratophyllidae', level: 'Subclass', parent_name: 'Magnoliopsida[11]', has_children: true },
  { title: 'Ceratophyllales', level: 'Order', parent_name: 'Ceratophyllidae', has_children: false },
  { title: 'Eudicots', level: 'Clade', parent_name: 'Magnoliopsida[11]', has_children: true },
  { title: '?†Sarbaicarpales', level: 'Order', parent_name: 'Eudicots', has_children: false },
  { title: 'Ranunculidae', level: 'Subclass', parent_name: 'Eudicots', has_children: true },
  { title: 'Ranunculales', level: 'Order', parent_name: 'Ranunculidae', has_children: false },
  { title: 'Nelumbonidae', level: 'Subclass', parent_name: 'Eudicots', has_children: true },
  { title: 'Proteales', level: 'Order', parent_name: 'Nelumbonidae', has_children: false },
  { title: 'Trochodendridae', level: 'Subclass', parent_name: 'Eudicots', has_children: true },
  { title: 'Trochodendrales', level: 'Order', parent_name: 'Trochodendridae', has_children: false },
  { title: 'Buxanae', level: 'Superorder', parent_name: 'Eudicots', has_children: true },
  { title: 'Buxales', level: 'Order', parent_name: 'Buxanae', has_children: false },
  { title: 'Myrothamnanae', level: 'Superorder', parent_name: 'Eudicots', has_children: true },
  { title: 'Gunnerales', level: 'Order', parent_name: 'Myrothamnanae', has_children: false },
  { title: 'Pentapetalae', level: 'Clade', parent_name: 'Eudicots', has_children: true },
  { title: 'Dilleniidae', level: 'Subclass', parent_name: 'Pentapetalae', has_children: true },
  { title: 'Dilleniales', level: 'Order', parent_name: 'Dilleniidae', has_children: false },
  { title: 'Asteridae', level: 'Subclass', parent_name: 'Pentapetalae', has_children: true },
  { title: 'Berberidopsidanae', level: 'Superorder', parent_name: 'Asteridae', has_children: true },
  { title: 'Berberidopsidales', level: 'Order', parent_name: 'Berberidopsidanae', has_children: false },
  { title: 'Santalanae', level: 'Superorder', parent_name: 'Asteridae', has_children: true },
  { title: 'Santalales', level: 'Order', parent_name: 'Santalanae', has_children: false },
  { title: 'Caryophyllanae', level: 'Superorder', parent_name: 'Asteridae', has_children: true },
  { title: 'Caryophyllales', level: 'Order', parent_name: 'Caryophyllanae', has_children: false },
  { title: 'Cornanae', level: 'Superorder', parent_name: 'Asteridae', has_children: true },
  { title: 'Cornales', level: 'Order', parent_name: 'Cornanae', has_children: false },
  { title: 'Ericanae', level: 'Superorder', parent_name: 'Asteridae', has_children: true },
  { title: 'Ericales', level: 'Order', parent_name: 'Ericanae', has_children: false },
  { title: 'Asteranae', level: 'Superorder', parent_name: 'Asteridae', has_children: true },
  { title: 'Apiales', level: 'Order', parent_name: 'Asteranae', has_children: false },
  { title: 'Aquifoliales', level: 'Order', parent_name: 'Asteranae', has_children: false },
  { title: 'Asterales', level: 'Order', parent_name: 'Asteranae', has_children: false },
  { title: 'Bruniales', level: 'Order', parent_name: 'Asteranae', has_children: false },
  { title: 'Dipsacales', level: 'Order', parent_name: 'Asteranae', has_children: false },
  { title: 'Escalloniales', level: 'Order', parent_name: 'Asteranae', has_children: false },
  { title: 'Paracryphiales', level: 'Order', parent_name: 'Asteranae', has_children: false },
  { title: 'Lamianae', level: 'Superorder', parent_name: 'Asteridae', has_children: true },
  { title: 'Boraginales', level: 'Order', parent_name: 'Lamianae', has_children: false },
  { title: 'Garryales', level: 'Order', parent_name: 'Lamianae', has_children: false },
  { title: 'Gentianales', level: 'Order', parent_name: 'Lamianae', has_children: false },
  { title: 'Icacinales', level: 'Order', parent_name: 'Lamianae', has_children: false },
  { title: 'Lamiales', level: 'Order', parent_name: 'Lamianae', has_children: false },
  { title: 'Metteniusales', level: 'Order', parent_name: 'Lamianae', has_children: false },
  { title: 'Solanales', level: 'Order', parent_name: 'Lamianae', has_children: false },
  { title: 'Vahliales', level: 'Order', parent_name: 'Lamianae', has_children: false },
  { title: 'Rosidae', level: 'Subclass', parent_name: 'Pentapetalae', has_children: true },
  { title: 'Saxifraganae', level: 'Superorder', parent_name: 'Rosidae', has_children: true },
  { title: 'Saxifragales', level: 'Order', parent_name: 'Saxifraganae', has_children: false },
  { title: 'Vitanae', level: 'Superorder', parent_name: 'Rosidae', has_children: true },
  { title: 'Vitales', level: 'Order', parent_name: 'Vitanae', has_children: false },
  { title: 'Rosanae', level: 'Superorder', parent_name: 'Rosidae', has_children: true },
  { title: 'Zygophyllales', level: 'Order', parent_name: 'Rosanae', has_children: false },
  { title: 'Celastrales', level: 'Order', parent_name: 'Rosanae', has_children: false },
  { title: 'Malpighiales', level: 'Order', parent_name: 'Rosanae', has_children: false },
  { title: 'Oxalidales', level: 'Order', parent_name: 'Rosanae', has_children: false },
  { title: 'Fabales', level: 'Order', parent_name: 'Rosanae', has_children: false },
  { title: 'Cucurbitales', level: 'Order', parent_name: 'Rosanae', has_children: false },
  { title: 'Fagales', level: 'Order', parent_name: 'Rosanae', has_children: false },
  { title: 'Rosales', level: 'Order', parent_name: 'Rosanae', has_children: false },
  { title: 'Myrtanae', level: 'Superorder', parent_name: 'Rosidae', has_children: true },
  { title: 'Geraniales', level: 'Order', parent_name: 'Myrtanae', has_children: false },
  { title: 'Myrtales', level: 'Order', parent_name: 'Myrtanae', has_children: false },
  { title: 'Crossosomatales', level: 'Order', parent_name: 'Myrtanae', has_children: false },
  { title: 'Picramniales', level: 'Order', parent_name: 'Myrtanae', has_children: false },
  { title: 'Sapindales', level: 'Order', parent_name: 'Myrtanae', has_children: false },
  { title: 'Huerteales', level: 'Order', parent_name: 'Myrtanae', has_children: false },
  { title: 'Malvales', level: 'Order', parent_name: 'Myrtanae', has_children: false },
  { title: 'Brassicales', level: 'Order', parent_name: 'Myrtanae', has_children: false },

  ]
  // var allCards = [
  //   { title: "A", parent_id: "root", has_children: true },
  //   { title: "A1", parent_id: "A", has_children: true },
  //   { title: "A11", parent_id: "A1", has_children: false },
  //   { title: "A12", parent_id: "A1", has_children: false },
  //   { title: "A13", parent_id: "A1", has_children: false },
  //   { title: "B", parent_id: "root", has_children: true },
  //   { title: "B1", parent_id: "A", has_children: true },
  //   { title: "B11", parent_id: "B1", has_children: false },
  //   { title: "B12", parent_id: "B1", has_children: false },
  //   { title: "B13", parent_id: "B1", has_children: false }
  // ];

  // index each item by title
  var indexed = allCards.reduce(function (result, item) {
    result[item.title] = item;
    return result;
  }, {});

  // retain the root items only
  var result = allCards.filter(function (item) {

    // get parent
    var parent = indexed[item.parent_name];

    // make sure to remove unnecessary keys
    delete item.parent_name;
    delete item.has_children;

    // has parent?
    if (parent) {
      // add item as a child
      parent.children = (parent.children || []).concat(item);
    }

    // This part determines if the item is a root item or not
    return !parent;
  });

  document.write('<pre>' + JSON.stringify(result, 0, 4) + '</pre>');

</script>